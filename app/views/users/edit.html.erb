<div class='col-lg-8 col-md-9 col-sm-10 p-0 mx-auto'>
  <div class='card my-4 bg-light rounded-0'>
    <div class='card-header border-0'>
      <h5 class='card-title text-center m-0'>Edit Profile</h5>
    </div>
    <div class='card-body'>
      <%= form_with model: current_user, local: true do |f| %>
        <div class='form-group' data-controller='avatar-upload'>
          <div class='row justify-content-between'>
            <%= f.label :avatar, class: 'col-form-label pl-2' %>
            <% if current_user.avatar.attached? %>
              <%= link_to image_path(current_user.avatar.id), method: :delete, class: 'btn btn-lg shadow-none float-right' do %>
                <%= icon 'fa', 'trash', class: 'text-danger' %>
              <% end %>
            <% end %>
          </div>
          <div data-target="avatar-upload.imgWrapper" class='text-center'>
            <%= avatar_for current_user, 300, 'centered-and-cropped rounded-circle' %>
          </div>
          <%= f.file_field :avatar, class: 'h6 p-0 mt-4 col overflow-hidden', data: { action: 'avatar-upload#showBefore', target: 'avatar-upload.avatar' }, style: "height: 100%", direct_upload: true %>
        </div>
        <div class='form-group'>
          <%= f.label :email, class: 'col-form-label' %>
          <%= f.email_field :email, class: 'form-control' %>
        </div>
        <div class='form-group'>
          <%= f.label :username, class: 'col-form-label' %>
          <%= f.text_field :username, class: 'form-control' %>
        </div>
        <div class='btn-toolbar mt-2'>
          <%= link_to 'Cancel', current_user, class: 'btn btn-secondary mr-1' %>
          <%= f.submit 'Edit', class: 'btn btn-warning' %>
        </div>
      <% end %>
    </div>
  </div>
</div>
